{"version":3,"file":"static/js/255.2d7c9470.chunk.js","mappings":"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","sources":["components/Filter/Filter.styled.js","components/Filter/Filter.jsx","components/TeachersList/TeachersList.styled.js","components/TeachersList/TeachersList.jsx","pages/Teachers/Teachers.styled.js","pages/Teachers/Teachers.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const FilterWrapper = styled.div`\n  margin-bottom: 32px;\n`;\n","import { FilterWrapper } from './Filter.styled';\n\nexport const Filter = () => {\n  return (\n    <FilterWrapper>\n      <p>Filter</p>\n    </FilterWrapper>\n  );\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  margin-bottom: 32px;\n`;\n","import { TeachersCard } from 'components/TeachersCard/TeachersCard';\nimport { List } from './TeachersList.styled';\n\nexport const TeachersList = ({ teachers }) => {\n  return (\n    <List>\n      {teachers?.map((teacher, index) => (\n        <li key={index}>\n          <TeachersCard teacher={teacher} />\n        </li>\n      ))}\n    </List>\n  );\n};\n","import styled from 'styled-components';\n\nexport const TeachersSection = styled.div`\n  padding-top: 96px;\n  padding-bottom: 96px;\n  background-color: var(--background-grey);\n`;\n\nexport const TeachersWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n","import { Filter } from 'components/Filter/Filter';\nimport { TeachersList } from 'components/TeachersList/TeachersList';\nimport { TeachersSection, TeachersWrapper } from './Teachers.styled';\nimport { Container } from 'components/Container/Container';\nimport { Button } from 'components/Button/Button';\nimport { ref, get, query, orderByKey, limitToFirst } from 'firebase/database';\nimport { db } from '../../firebase/config';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useState } from 'react';\nimport { addTeachers } from '../../redux/teachers/teachersSlice';\nimport {\n  selectIsLoading,\n  selectTeachers,\n} from '../../redux/teachers/teachersSelectors';\nimport { Loader } from 'components/Loader/Loader';\n\nconst Teachers = () => {\n  const [teachersCardsAmount, setTeachersCardsAmount] = useState(4);\n  const [hasMoreTeachers, setHasMoreTeachers] = useState(true);\n  const dispatch = useDispatch();\n  const teachers = useSelector(selectTeachers);\n  const isLoading = useSelector(selectIsLoading);\n\n  useEffect(() => {\n    const fetchTeachers = async () => {\n      try {\n        const teachersRef = ref(db, '/');\n        let dataQuery = query(\n          teachersRef,\n          orderByKey(),\n          limitToFirst(teachersCardsAmount)\n        );\n        const snapshot = await get(dataQuery);\n\n        if (snapshot.exists()) {\n          const newTeachers = snapshot.val();\n          dispatch(addTeachers(newTeachers));\n\n          if (Object.keys(newTeachers).length < teachersCardsAmount) {\n            setHasMoreTeachers(false);\n          }\n        } else {\n          setHasMoreTeachers(false);\n        }\n      } catch (error) {\n        console.error('Loading error', error.message);\n      }\n    };\n\n    fetchTeachers();\n  }, [dispatch, teachersCardsAmount]);\n\n  const loadMore = () => setTeachersCardsAmount(prev => prev + 4);\n\n  return (\n    <TeachersSection>\n      <Container>\n        <TeachersWrapper>\n          {isLoading ? (\n            <Loader />\n          ) : (\n            <>\n              <Filter />\n              <TeachersList teachers={teachers} />\n              {hasMoreTeachers && (\n                <Button\n                  padding={'16px 48px'}\n                  text={'Load more'}\n                  type={'button'}\n                  handleClick={loadMore}\n                />\n              )}\n            </>\n          )}\n        </TeachersWrapper>\n      </Container>\n    </TeachersSection>\n  );\n};\n\nexport default Teachers;\n"],"names":["FilterWrapper","styled","_templateObject","_taggedTemplateLiteral","Filter","_jsx","children","List","TeachersList","_ref","teachers","map","teacher","index","TeachersCard","TeachersSection","TeachersWrapper","_templateObject2","_useState","useState","_useState2","_slicedToArray","teachersCardsAmount","setTeachersCardsAmount","_useState3","_useState4","hasMoreTeachers","setHasMoreTeachers","dispatch","useDispatch","useSelector","selectTeachers","isLoading","selectIsLoading","useEffect","fetchTeachers","_asyncToGenerator","_regeneratorRuntime","_callee","teachersRef","dataQuery","snapshot","newTeachers","_context","prev","next","ref","db","query","orderByKey","limitToFirst","get","sent","exists","val","addTeachers","Object","keys","length","t0","console","error","message","stop","apply","arguments","Container","Loader","_jsxs","_Fragment","Button","padding","text","type","handleClick"],"sourceRoot":""}